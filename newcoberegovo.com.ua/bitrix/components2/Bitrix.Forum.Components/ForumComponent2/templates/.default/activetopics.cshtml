@using Bitrix.Forum
@using Bitrix.Forum.Components
@using Bitrix.Mvc.Extensions
@model ForumComponent2

@{

    if (Model.DisplayMenu)
    {
        @Html.RenderComponent("menu")
    }

    var posts = this.GetComponent<ForumPostListComponent2>("posts");

    if(Model.ShowNavigation && !Model.HasErrors)
    {
        var breadCrumb = new ForumBreadcrumb(Model, "top", "Breadcrumb.ActiveTopics.Name");
        Html.RenderPartial(NormalizePath("breadcrumb.cshtml"), breadCrumb);
    }

    @Html.RenderComponent(posts)

    if (!posts.Component.HasErrors)
    { 
        @Html.RenderComponent("forums")
    }
}